### 拦截器

对测试集合、取样器、处理器进行拦截，以实现某些特定任务。如：动态修改请求参数（参数加密）、修改响应结果（参数解密）、修改测试结果等

```yaml
testclass: http # http取样器
interceptors:
  - 'keyword1' # 拦截器名称（无参数）
  - keyword2: # 拦截器名称（有参数）
      param1: value1
      param2: value2
  - { testclass: keyword3, param1: value1, param2: value2 } # 通过testclass 配置拦截器
```

# 二次开发

当内置的提取器无法满足使用要求时，可以自行开发提取器组件

示例：

```java
// Alias 定义组件的别名，以便在 testclass 中引用，默认为类名
// 为防止类名重复，建议使用 Alias
@KW {
    "exmple"
}

public class ExampleInterceptor implements RyzeInterceptor<HTTPSampler> {
    @Override
    public int getOrder() {
        return 0;
    }

    @Override
    public boolean supports(ContextWrapper context) {
        return context.getTestElement() instanceof HTTPSampler;
    }

    @Override
    public boolean preHandle(ContextWrapper context, HTTPSampler runtime) {
        System.out.println("ExampleInterceptor preHandle");
        return true;
    }

    @Override
    public void postHandle(ContextWrapper context, HTTPSampler runtime) {
        System.out.println("ExampleInterceptor postHandle");
    }

    @Override
    public void afterCompletion(ContextWrapper context) {
        System.out.println("ExampleInterceptor afterCompletion");
    }
}
```

通过以上代码完成自定义提取器开发后，还需要通过 SPI进行注册

1. 在工程的 resources 目录中创建目录 META-INF
2. 在 META-INF 目录中创建目录 services
3. 在 services 目录中创建文件 io.github.xiaomisum.ryze.interceptor.RyzeInterceptor
4. 在 io.github.xiaomisum.ryze.interceptor.RyzeInterceptor 文件中填写 自定义提取器的完整类名（含包路径）

参考[示例](../../example/http-example/src/test/resources/META-INF/services/io.github.xiaomisum.ryze.interceptor.RyzeInterceptor)

